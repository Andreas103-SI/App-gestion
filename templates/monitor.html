<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoreo de Recursos</title>
</head>
<body>
    <h1>Estado del Sistema</h1>
    <div id="resource-usage">
        <!-- Aquí se mostrarán los datos -->
    </div>

    <script>
        async function fetchUsage() {
            const response = await fetch('/monitor');
            const data = await response.json();
            document.getElementById('resource-usage').innerHTML = `
                <p>CPU: ${data.cpu}%</p>
                <p>Memoria: ${data.memory}%</p>
                <p>Disco: ${data.disk}%</p>
            `;
        }

        // Actualiza los datos cada 5 segundos
        setInterval(fetchUsage, 5000);
        // Llama inmediatamente a la función para mostrar datos al cargar la página
        fetchUsage();
    </script>
</body>
</html>
