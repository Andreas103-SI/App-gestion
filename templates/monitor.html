<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitoreo de Recursos</title>
    <script>
        function fetchOptimizerData() {
            fetch('/optimizer')
                .then(response => response.json())
                .then(data => {
                    let messageElement = document.getElementById('optimizer-message');
                    if (data.inefficient_processes && data.inefficient_processes.length > 0) {
                        messageElement.innerHTML = `<b>Procesos ineficientes detectados y terminados:</b><br>${JSON.stringify(data.inefficient_processes, null, 2)}`;
                        messageElement.style.color = 'red';
                    } else {
                        messageElement.innerHTML = "✅ No se encontraron procesos ineficientes.";
                        messageElement.style.color = 'green';
                    }
                })
                .catch(error => {
                    console.error("Error obteniendo datos:", error);
                    document.getElementById('optimizer-message').innerHTML = "❌ Error al obtener los datos.";
                });
        }
    </script>
</head>
<body onload="fetchOptimizerData()">
    <h1>Monitoreo y Optimización de Procesos</h1>
    <p id="optimizer-message">Cargando información...</p>
</body>
</html>
